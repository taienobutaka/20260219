# 納品物確認（リモート環境へのプッシュ）

## 1. 納品物の定義

**納品物 = リモートリポジトリ（GitHub 等）にプッシュした内容**  
クライアントは `git clone` または ZIP ダウンロードで取得します。

---

## 2. リモートに含めるべき必須ファイル・フォルダ

クライアントが「ターミナルで `cd delivery` → `npm install` → `npm run dev` → ブラウザで http://localhost:3000」でサイトを確認するために、**リモートに以下が含まれている必要があります**。

| パス | 役割 | 欠けていると |
|------|------|----------------|
| **delivery/package.json** | プロジェクト名・依存関係の定義 | `npm install` が ENOENT で失敗する（今回の原因） |
| delivery/package-lock.json | 依存バージョン固定 | あれば再現性が上がる（必須ではないが推奨） |
| delivery/src/ | アプリのソース一式 | サイトが動かない |
| delivery/public/ | 画像・動画・favicon | 画像・動画が表示されない |
| delivery/next.config.ts | Next.js 設定 | ビルド・起動に必要 |
| delivery/tsconfig.json | TypeScript 設定 | ビルドに必要 |
| delivery/tailwind.config.ts | Tailwind 設定 | スタイルが崩れる |
| delivery/postcss.config.mjs | PostCSS 設定 | スタイルに必要 |

**特に重要**: `delivery/package.json` が無いと、クライアント側でどのディレクトリで `npm install` しても「package.json が見つからない」エラーになります。

---

## 3. 確認手順（あなた側で実施）

### 3.1 リモートの内容を確認する

```bash
# リポジトリをクローン（別フォルダで）
git clone https://github.com/taienobutaka/in_brand.git in_brand_verify
cd in_brand_verify

# delivery/package.json の有無を確認
ls -la delivery/package.json

# あれば中身の先頭を表示
head -20 delivery/package.json
```

- **存在する場合**: 納品物には含まれている。クライアントは「リポジトリをクローンしたうえで、`delivery` フォルダを開き、その中で `npm install` → `npm run dev`」で確認できる。
- **存在しない場合**: 過去のコミットで `delivery/package.json` が追加されていないか、誤って削除・ignore されている。**追加してコミット・プッシュする必要がある。**

### 3.2 ローカルで package.json が無い場合

- 別環境・バックアップ・元のクローンから `delivery/package.json` を復元する。
- Next.js プロジェクトのひな型として、`delivery/package-lock.json` の `name` やバージョンに合わせて `package.json` を新規作成することも可能（必要な scripts と dependencies を定義）。

復元または作成後、必ず **`git add delivery/package.json` → `git commit` → `git push`** でリモートに反映してください。

---

## 4. クライアントへの案内（リモートが納品物の場合）

1. **リポジトリのクローン**  
   「〇〇（リポジトリURL）をクローンしてご利用ください。」
2. **開くフォルダ**  
   「VSC では、クローンしたフォルダ**全体**を開いていただいても、**delivery フォルダだけ**を開いていただいても構いません。」
3. **ターミナルで実行する場所**  
   「`npm install` と `npm run dev` は、必ず**delivery フォルダの中**で実行してください。VSC で delivery だけを開いている場合は、そのフォルダがルートなので、そのままターミナルで `npm install` → `npm run dev` で大丈夫です。」
4. **写真付き手順**  
   上記が分かるスクリーンショット（「delivery を開いている状態」「その中でターミナルを開き npm install / npm run dev を実行している画面」「ブラウザで localhost:3000 を開いた画面」）を添付すると伝わりやすいです。

---

## 5. まとめ

| 確認項目 | 内容 |
|----------|------|
| 納品物の定義 | リモート（GitHub 等）にプッシュした内容 |
| 今回の不具合の原因 | クライアント環境で `delivery/package.json` が存在しない（ローカルで欠落している、またはリモートに含まれていない） |
| あなたがやること | ① リモートに `delivery/package.json` が含まれているか確認 ② 無ければ復元または作成し、コミット・プッシュ ③ クライアントには「クローン → delivery 内で npm install / npm run dev」と写真付きで案内 |

このファイルは確認用です。実施後は削除して構いません。
